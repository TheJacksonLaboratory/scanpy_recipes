<div class="card my-2">
  <div class="card-header">
    <a
      class="d-block collapsed" data-toggle="collapse" aria-expanded="true"
      id="files-heading"
      href="#files-card"
      aria-controls="files-card">
      Package file details
    </a>
  </div>

  <div id="files-card" class="card-body collapse" aria-labelledby="files-heading">
    <p class="card-text">
      This report was delivered to you with some other files which are detailed below.
    </p>

    <p class="card-text">
      As part of our standard analysis package, we have included some extra files that
      will let you further explore and interrogate your dataset.  These files include:
    </p>

    <ol class="list-group list-group-flush">
      <li class="list-group-item"><code>_report.html</code>: This analysis report.</li>
      <li class="list-group-item"><code>_markers.csv</code>: a list of marker genes corresponding to the
      clustering shown in this report.  Marker genes are genes that distinguish cells
      in one cluster from those in other clusters, but note that multiple clusters may
      share some markers and some clusters will not has as many (or any) marker genes
      as others.  For each marker gene,
      <ol>
        <li><code>AUROC</code> represents how specific the expression of this gene is to
      this cluster.</li>
        <li><code>avg_diff</code> represents the average expression of this gene within
      cells of this cluster versus cells outside this cluster.</li>
      </ol></li>
      <li class="list-group-item"><code>_.Rds</code>: an <code>Rdata</code> file which can be used to interact
      with your data via a web application called "CellView", which is detailed
      below.</li>
    </ol>

    <p class="card-text">
      The software used to generate count matrices from your sequencing data, 10X
      Genomics CellRanger, generates some preliminary analysis information which we
      have included.  These files include:
    </p>

    <ol class="list-group list-group-flush">
      <li class="list-group-item"><code>web_summary.html</code>: a page of metrics and other data recapitulating
    the metrics shown at the beginning of this report.</li>
      <li class="list-group-item"><code>cloupe.cloupe</code>: an input file for 10X Genomic <a
    href="https://support.10xgenomics.com/single-cell-gene-expression/software/visualization/latest/what-is-loupe-cell-browser">Loupe
    Cell Browser</a>, an interactive tool for looking at clustering and gene
    expression within your dataset. Note that the clustering generated by 10X will
    differ from that shown above.  This is due to differences in QC, normalization, and
    clustering methods.
    </ol>
  </div>
</div>

<div class="card my-2">
  <div class="card-header">
    <a
      class="d-block collapsed" data-toggle="collapse" aria-expanded="true"
      id="software-heading"
      href="#software-card"
      aria-controls="software-card">
      Software used
    </a>
  </div>

  <div id="software-card" class="card-body collapse" aria-labelledby="software-heading">
    <ol class="list-group list-group-flush">
      {% if adata.uns.get("is_aggregation", False) %}
      {% for sampleid in adata.uns["sampleids"] %}
      <li class="list-group-item">
        <code>cellranger, version {{ adata.uns["cellranger_version"][sampleid] }}, 10X Genomics</code>
        [<a href="https://support.10xgenomics.com/single-cell-gene-expression/software/pipelines/latest/what-is-cell-ranger">ref</a>]
      </li>
      {% endfor %}
      {% for sampleid in adata.uns["sampleids"] %}
      <li class="list-group-item"><code>{{ sampleid }}: cellranger {{ adata.uns["genome"][sampleid] }} reference,
        version {{ adata.uns["cellranger_reference_version"][sampleid] }}, 10X Genomics</code>
        [<a href="https://support.10xgenomics.com/single-cell-gene-expression/software/pipelines/latest/what-is-cell-ranger">ref</a>]
      </li>
      {% endfor %}

      {% else %}
      <li class="list-group-item">
        <code>cellranger, version {{ adata.uns["cellranger_version"] }}, 10X Genomics</code>
        [<a href="https://support.10xgenomics.com/single-cell-gene-expression/software/pipelines/latest/what-is-cell-ranger">ref</a>]
      </li>
      <li class="list-group-item"><code>cellranger {{ adata.uns["genome"] }} reference,
        version {{ adata.uns["cellranger_reference_version"] }}, 10X Genomics</code>
        [<a href="https://support.10xgenomics.com/single-cell-gene-expression/software/pipelines/latest/what-is-cell-ranger">ref</a>]
      </li>
      {% endif %}

      <li class="list-group-item"><code>scanpy, version {{ scanpy_version }}</code> [<a href="https://genomebiology.biomedcentral.com/articles/10.1186/s13059-017-1382-0">ref</a>]</li>
    </ol>
  </div>
</div>
